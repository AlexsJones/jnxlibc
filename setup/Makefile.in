SRC_DIR=../src
BUILD_DIR=build
FLAGS=-Wall -fPIC -c -rdynamic
COMPILER=gcc
all: setup main_artifact shipping teardown
setup:
	mkdir -p build
	cp ${SRC_DIR}/**/*.c build
	cp ${SRC_DIR}/**/*.h build
teardown:
	rm -rf build
main_artifact:
	${COMPILER} ${FLAGS} $(BUILD_DIR)/*.c
	build.shared.object
	rm *.o
	find . -type f -name "*~" -exec rm {} \;
shipping:
	mkdir -p lib; 
	move.shared.object
	mkdir -p lib/jnxc_headers; cp $(BUILD_DIR)/*.h lib/jnxc_headers;
install:
	install.shared.object
	rm -rf lib
